{% extends "dashboard_base.html" %}

{% block title %}Attendance{% endblock %}
{% block page_title %}Attendance{% endblock %}

{% block content %}
<div class="dash-panel">
  <h3><i class="fas fa-clipboard-check" style="color:#06b6d4"></i> Student Attendance</h3>
  <table class="dash-table" id="attendanceTable">
    <thead>
      <tr><th>Student</th><th>Status</th><th>Action</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</div>
{% endblock %}

{% block extra_js %}
const students = [
  {name:"Ann", present:true},
  {name:"Rahul", present:false},
  {name:"Sneha", present:true}
];
const atBody = document.querySelector("#attendanceTable tbody");
function renderAtt(){
  atBody.innerHTML = "";
  students.forEach((s,i)=>{
    const badge = s.present ? '<span class="badge badge-success">Present</span>' : '<span class="badge badge-danger">Absent</span>';
    atBody.innerHTML += '<tr><td style="font-weight:500;color:#f1f5f9">'+s.name+'</td><td>'+badge+'</td><td><button class="btn btn-outline btn-sm" onclick="toggleAtt('+i+')"><i class="fas fa-sync-alt"></i> Toggle</button></td></tr>';
  });
}
function toggleAtt(i){ students[i].present = !students[i].present; renderAtt(); }
renderAtt();
{% endblock %}
