{% extends "dashboard_base.html" %}
{% block title %}Exam Results{% endblock %}
{% block page_title %}Exam Results{% endblock %}
{% block content %}

<div class="stats-row" style="grid-template-columns:repeat(3,1fr)">
  <div class="stat-card">
    <div class="sc-icon" style="background:linear-gradient(135deg,#6366f1,#4f46e5)"><i class="fas fa-file-pen"></i></div>
    <div><div class="sc-val">4</div><div class="sc-label">Exams Taken</div></div>
  </div>
  <div class="stat-card">
    <div class="sc-icon" style="background:linear-gradient(135deg,#10b981,#059669)"><i class="fas fa-chart-line"></i></div>
    <div><div class="sc-val">76%</div><div class="sc-label">Average Score</div></div>
  </div>
  <div class="stat-card">
    <div class="sc-icon" style="background:linear-gradient(135deg,#f59e0b,#d97706)"><i class="fas fa-trophy"></i></div>
    <div><div class="sc-val">92%</div><div class="sc-label">Best Score</div></div>
  </div>
</div>

<div style="display:grid;grid-template-columns:repeat(2,1fr);gap:16px" id="resultsGrid">
</div>

<script>
const results=[
  {exam:'Python Basics',score:82,total:100,status:'Pass',subjects:[{name:'Variables',score:90},{name:'Functions',score:75},{name:'OOP',score:80}]},
  {exam:'Java OOP',score:68,total:100,status:'Average',subjects:[{name:'Classes',score:70},{name:'Inheritance',score:65},{name:'Polymorphism',score:68}]},
  {exam:'DBMS Quiz',score:91,total:100,status:'Pass',subjects:[{name:'SQL',score:95},{name:'Normalization',score:88},{name:'ER Diagrams',score:90}]},
  {exam:'Aptitude Mock',score:45,total:100,status:'Fail',subjects:[{name:'Quantitative',score:50},{name:'Logical',score:40},{name:'Verbal',score:45}]}
];
const grid=document.getElementById('resultsGrid');
results.forEach(r=>{
  const color=r.status==='Pass'?'#10b981':r.status==='Average'?'#f59e0b':'#ef4444';
  const bg=r.status==='Pass'?'#f0fdf4':r.status==='Average'?'#fffbeb':'#fef2f2';
  const border=r.status==='Pass'?'#bbf7d0':r.status==='Average'?'#fde68a':'#fecaca';
  let subHtml=r.subjects.map(s=>`
    <div style="display:flex;align-items:center;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f8fafc">
      <span style="font-size:13px;color:#64748b">${s.name}</span>
      <div style="display:flex;align-items:center;gap:8px">
        <div style="width:80px;height:6px;background:#f1f5f9;border-radius:3px;overflow:hidden"><div style="width:${s.score}%;height:100%;background:${color};border-radius:3px"></div></div>
        <span style="font-size:12px;font-weight:600;color:#1e293b">${s.score}%</span>
      </div>
    </div>`).join('');
  grid.innerHTML+=`
    <div class="card-panel">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px">
        <h3 style="margin:0"><i class="fas fa-file-lines" style="color:#6366f1"></i> ${r.exam}</h3>
        <span style="display:inline-block;padding:4px 12px;border-radius:6px;font-size:11px;font-weight:600;background:${bg};color:${color};border:1px solid ${border}">${r.status}</span>
      </div>
      <div style="text-align:center;margin-bottom:16px">
        <div style="font-size:36px;font-weight:800;color:${color}">${r.score}%</div>
        <div style="font-size:12px;color:#94a3b8">${r.score}/${r.total} marks</div>
      </div>
      <div>${subHtml}</div>
    </div>`;
});
</script>

{% endblock %}
